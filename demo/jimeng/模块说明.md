# å³æ¢¦è§†é¢‘ API æ¨¡å—è¯´æ˜

## ğŸ“ æ¨¡å—ä¿¡æ¯

**åˆ›å»ºæ—¥æœŸ**: 2025-12-30
**ç‰ˆæœ¬**: 1.0.0
**API ç«¯ç‚¹**: https://yunwu.ai/v1/video/create
**æ¨¡å‹**: jimeng-video-3.0

## ğŸ“¦ æ¨¡å—å†…å®¹

### 1. jimeng_client.py (6.5KB) - æ ¸å¿ƒå®¢æˆ·ç«¯
- `JimengClient` ç±» - API å®¢æˆ·ç«¯
- `JimengVideoRequest` ç±» - è¯·æ±‚å‚æ•°
- `AspectRatio` æšä¸¾ - å®½é«˜æ¯”é€‰é¡¹
- `VideoSize` æšä¸¾ - åˆ†è¾¨ç‡é€‰é¡¹
- 2ä¸ªè¾…åŠ©å‡½æ•°ç”¨äºå¿«é€Ÿåˆ›å»ºè¯·æ±‚
- å®Œæ•´çš„å‚æ•°éªŒè¯
- æŸ¥è¯¢åŠŸèƒ½å’Œè½®è¯¢æ”¯æŒ

### 2. __init__.py (550B) - æ¨¡å—åˆå§‹åŒ–
- å¯¼å‡ºæ‰€æœ‰å…¬å…±æ¥å£
- ç‰ˆæœ¬å·ç®¡ç†

### 3. jimeng_examples.py (6.0KB) - ä½¿ç”¨ç¤ºä¾‹
- 6ä¸ªå®Œæ•´ç¤ºä¾‹
- å¹²è·‘æ¨¡å¼ï¼ˆä¸äº§ç”Ÿè´¹ç”¨ï¼‰
- æ¶µç›–æ‰€æœ‰ä¸»è¦åŠŸèƒ½

### 4. query_examples.py (7.5KB) - æŸ¥è¯¢ç¤ºä¾‹
- 6ä¸ªæŸ¥è¯¢ç¤ºä¾‹
- çŠ¶æ€æ£€æŸ¥å’Œè½®è¯¢
- æ‰¹é‡æŸ¥è¯¢ç¤ºä¾‹

### 5. test_jimeng.py (11KB) - å•å…ƒæµ‹è¯•
- 27ä¸ªå•å…ƒæµ‹è¯•ï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰
- æµ‹è¯•è¯·æ±‚åˆ›å»ºå’ŒéªŒè¯
- æµ‹è¯•åºåˆ—åŒ–åŠŸèƒ½
- æµ‹è¯•è¾…åŠ©å‡½æ•°
- è¾¹ç•Œæ¡ä»¶æµ‹è¯•

### 6. README.md (7.5KB) - è‹±æ–‡æ–‡æ¡£
- å®Œæ•´ API å‚è€ƒ
- ä½¿ç”¨æŒ‡å—
- æœ€ä½³å®è·µ

### 7. ä½¿ç”¨è¯´æ˜.md (8.2KB) - ä¸­æ–‡æ–‡æ¡£
- å¿«é€Ÿå¼€å§‹
- å‚æ•°è¯´æ˜
- å®é™…åœºæ™¯ç¤ºä¾‹
- æˆæœ¬æ§åˆ¶å»ºè®®

### 8. æŸ¥è¯¢åŠŸèƒ½è¯´æ˜.md (6.8KB) - æŸ¥è¯¢æ–‡æ¡£
- æŸ¥è¯¢æ¥å£è¯¦è§£
- çŠ¶æ€è¿½è¸ª
- è¶…æ—¶é…ç½®

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ç®€å•æ–‡ç”Ÿè§†é¢‘
```python
from jimeng import JimengClient, create_simple_video_request

client = JimengClient(api_token="your-token")
request = create_simple_video_request(
    model="jimeng-video-3.0",
    prompt="cat fish",
    aspect_ratio="16:9",
    size="1080P"
)
response = client.generate_video(request)
```

### 2. å¸¦å‚è€ƒå›¾ç‰‡
```python
from jimeng import create_video_with_images

request = create_video_with_images(
    model="jimeng-video-3.0",
    prompt="animate these images",
    image_urls=[
        "https://example.com/image1.jpg",
        "https://example.com/image2.jpg"
    ],
    aspect_ratio="16:9",
    size="1080P"
)
```

### 3. å‚æ•°éªŒè¯
```python
is_valid, error = client.validate_request(request)
if not is_valid:
    print(f"æ— æ•ˆ: {error}")
```

### 4. æŸ¥è¯¢è§†é¢‘çŠ¶æ€
```python
response = client.query_video(video_id)
status = response["data"]["status"]
```

### 5. ç­‰å¾…å®Œæˆ
```python
from jimeng import wait_for_video_completion

result = wait_for_video_completion(client, video_id, timeout=600)
```

## ğŸ“Š æ”¯æŒçš„å‚æ•°

### å®½é«˜æ¯” (aspect_ratio)
- `"16:9"` - å®½å±ï¼ˆé»˜è®¤ï¼‰
- `"9:16"` - ç«–å±
- `"1:1"` - æ­£æ–¹å½¢
- `"4:3"` - æ ‡å‡†

### åˆ†è¾¨ç‡ (size)
- `"720P"` - æ ‡æ¸…ï¼ˆæˆæœ¬ä½ï¼‰
- `"1080P"` - é«˜æ¸…ï¼ˆé»˜è®¤ï¼‰

## ğŸ”„ ä¸ Kling çš„åŒºåˆ«

| ç‰¹æ€§ | Kling | Jimeng |
|------|-------|--------|
| **è¾“å…¥æ–¹å¼** | å›¾ç‰‡ â†’ è§†é¢‘ | æ–‡æœ¬ â†’ è§†é¢‘ |
| **å¿…éœ€å‚æ•°** | model, image | model, prompt |
| **HTTP åº“** | http.client | requests |
| **å‚è€ƒå›¾ç‰‡** | å¿…éœ€ | å¯é€‰ |
| **ç›¸æœºæ§åˆ¶** | âœ“ | âœ— |
| **åŠ¨æ€é®ç½©** | âœ“ | âœ— |
| **å®½é«˜æ¯”æ•°é‡** | å¤šç§ | 4ç§ |
| **åˆ†è¾¨ç‡** | æ— é™ | 2ç§ |
| **æŸ¥è¯¢åŠŸèƒ½** | âœ“ | âœ“ |
| **è½®è¯¢æ”¯æŒ** | âœ“ | âœ“ |
| **å¤„ç†æ¨¡å¼** | std/pro | - |

## ğŸ’¡ ä½•æ—¶ä½¿ç”¨

### ä½¿ç”¨ Klingï¼ˆå›¾ç”Ÿè§†é¢‘ï¼‰
- æœ‰æºå›¾ç‰‡
- éœ€è¦ç›¸æœºè¿åŠ¨
- éœ€è¦å±€éƒ¨åŠ¨ç”»
- éœ€è¦é«˜åº¦å®šåˆ¶

### ä½¿ç”¨ Jimengï¼ˆæ–‡ç”Ÿè§†é¢‘ï¼‰
- åªæœ‰æ–‡æœ¬æè¿°
- å¿«é€Ÿç”Ÿæˆ
- ä½æˆæœ¬ï¼ˆ720Pï¼‰
- åŒ…å«å‚è€ƒå›¾ç‰‡å¯é€‰

## ğŸ§ª æµ‹è¯•

### è¿è¡Œå•å…ƒæµ‹è¯•
```bash
python3 -m jimeng.test_jimeng
```

### æµ‹è¯•ç»“æœ
```
Tests run: 27
Successes: 27
Failures: 0
Errors: 0
```

### è¿è¡Œç¤ºä¾‹ï¼ˆå¹²è·‘æ¨¡å¼ï¼Œä¸äº§ç”Ÿè´¹ç”¨ï¼‰
```bash
python3 -m jimeng.jimeng_examples
```

### é¢„æœŸè¾“å‡º
```
--- Example 1: Simple Video ---
Request payload:
{
  "model": "jimeng-video-3.0",
  "prompt": "cat fish",
  "aspect_ratio": "16:9",
  "size": "1080P",
  "images": []
}
```

## âœ… åŠŸèƒ½æ¸…å•

- âœ… æ–‡æœ¬ç”Ÿæˆè§†é¢‘
- âœ… æ”¯æŒå‚è€ƒå›¾ç‰‡
- âœ… å‚æ•°éªŒè¯
- âœ… å¤šç§å®½é«˜æ¯”
- âœ… ä¸¤ç§åˆ†è¾¨ç‡
- âœ… æŸ¥è¯¢è§†é¢‘çŠ¶æ€
- âœ… è½®è¯¢ç­‰å¾…å®Œæˆ
- âœ… å®Œæ•´ç¤ºä¾‹
- âœ… ä¸­è‹±æ–‡æ–‡æ¡£
- âœ… é”™è¯¯å¤„ç†
- âœ… 27ä¸ªå•å…ƒæµ‹è¯•ï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰

## ğŸ’° æˆæœ¬ä¼˜åŒ–

### 1. ä¼˜å…ˆä½¿ç”¨ 720P
```python
size="720P"  # æˆæœ¬çº¦ä¸º 1080P çš„ 50-70%
```

### 2. éªŒè¯å†å‘é€
```python
is_valid, error = client.validate_request(request)
if not is_valid:
    return  # é¿å…æ— æ•ˆè¯·æ±‚äº§ç”Ÿè´¹ç”¨
```

### 3. æ‰¹é‡å¤„ç†
```python
for prompt in prompts:
    request = create_simple_video_request(...)
    # ä¸€æ¬¡æ€§ç”Ÿæˆå¤šä¸ªè§†é¢‘
```

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä½¿ç”¨ç¯å¢ƒå˜é‡**
   ```python
   import os
   token = os.getenv("JIMENG_API_TOKEN")
   ```

2. **éªŒè¯è¾“å…¥**
   ```python
   if not prompt or len(prompt) > 500:
       raise ValueError("Invalid prompt")
   ```

3. **è®°å½•æ—¥å¿—**
   ```python
   logging.info(f"Generating: {prompt}")
   ```

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### ç®€å•ç¤ºä¾‹
```python
from jimeng import JimengClient, create_simple_video_request

client = JimengClient(api_token="your-token")
request = create_simple_video_request(
    model="jimeng-video-3.0",
    prompt="beautiful sunset",
    aspect_ratio="16:9",
    size="720P"
)

is_valid, error = client.validate_request(request)
if is_valid:
    response = client.generate_video(request)
```

### å®Œæ•´ç¤ºä¾‹
```python
import os
from jimeng import JimengClient, create_simple_video_request

# åˆå§‹åŒ–
token = os.getenv("JIMENG_API_TOKEN")
client = JimengClient(api_token=token)

# åˆ›å»ºè¯·æ±‚
request = create_simple_video_request(
    model="jimeng-video-3.0",
    prompt="cat playing with yarn",
    aspect_ratio="16:9",
    size="720P"
)

# éªŒè¯
is_valid, error = client.validate_request(request)
if not is_valid:
    print(f"Error: {error}")
    exit(1)

# å‘é€
try:
    response = client.generate_video(request)
    print(f"Success: {response}")
except Exception as e:
    print(f"Error: {e}")
```

## ğŸ‰ æ€»ç»“

âœ… å³æ¢¦è§†é¢‘ API å®Œæ•´å°è£…<br>
âœ… ç»“æ„æ¸…æ™°ï¼Œæ˜“äºä½¿ç”¨<br>
âœ… å‚æ•°éªŒè¯å®Œå–„<br>
âœ… æŸ¥è¯¢å’Œè½®è¯¢åŠŸèƒ½<br>
âœ… æ–‡æ¡£è¯¦ç»†å®Œæ•´<br>
âœ… å¹²è·‘æ¨¡å¼ç¤ºä¾‹<br>

ç°åœ¨å¯ä»¥è½»æ¾ä½¿ç”¨å³æ¢¦è§†é¢‘ API ç”Ÿæˆæ–‡æœ¬è§†é¢‘å¹¶è¿½è¸ªè¿›åº¦äº†ï¼
